<!-- Header -->
{% assign lang = page.lang | default: site.default_lang | default: 'fr' %}
{% assign t = site.data.translations[lang] %}
{% if lang == 'en' %}
  {% assign home_url = '/en/' %}
  {% assign resume_url = '/en/resume/' %}
  {% assign alternate_home = '/' %}
  {% assign alternate_resume = '/resume/' %}
{% else %}
  {% assign home_url = '/' %}
  {% assign resume_url = '/resume/' %}
  {% assign alternate_home = '/en/' %}
  {% assign alternate_resume = '/en/resume/' %}
{% endif %}
<header class="header" role="banner">
    <div class="header__container">
        <a href="{{ home_url | relative_url }}" class="header__logo" aria-label="{{ site.title }}">
            <svg width="24" height="24" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 18H20H10" stroke="url(#paint0_linear_19_16)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <animate attributeName="opacity" values="1;0;1" dur="1s" repeatCount="indefinite"/>
                </path>
                <path d="M3 7L7 11L3 15" stroke="url(#paint1_linear_19_16)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <defs>
                <linearGradient id="paint0_linear_19_16" x1="-3" y1="18" x2="21" y2="18" gradientUnits="userSpaceOnUse">
                <stop stop-color="#3B82F6"/>
                <stop offset="1" stop-color="#22C55E"/>
                </linearGradient>
                <linearGradient id="paint1_linear_19_16" x1="-3" y1="11.5" x2="21" y2="11.5" gradientUnits="userSpaceOnUse">
                <stop stop-color="#3B82F6"/>
                <stop offset="1" stop-color="#22C55E"/>
                </linearGradient>
                </defs>
                </svg>

            <span class="header__logo-text">Maxime Lenne</span>
        </a>

        <nav class="header__nav" role="navigation" aria-label="Main navigation">
            <a href="{{ home_url | relative_url }}" class="nav-link{% if page.url == home_url or page.url == '/' and lang == 'fr' %} nav-link--active{% endif %}">
                {{ t.nav.home }}
            </a>
            <a href="{{ resume_url | relative_url }}" class="nav-link{% if page.url contains '/resume/' %} nav-link--active{% endif %}">
                {{ t.nav.resume }}
            </a>
            <!--a href="{{ '/projects/' | relative_url }}" class="nav-link{% if page.url contains '/projects/' %} nav-link--active{% endif %}">
                Projets
            </a>
            <a href="{{ '/blog/' | relative_url }}" class="nav-link{% if page.url contains '/blog/' %} nav-link--active{% endif %}">
                Blog
            </a-->
        </nav>
        

        <!-- Header Actions -->
        <div class="figma-header__actions">
            <!-- Language Switcher -->
            <div class="figma-language-switcher">
                <button class="figma-language-switcher__trigger" aria-label="Change language">
                    <span class="figma-language-switcher__current">{{ lang | upcase }}</span>
                    <svg class="figma-language-switcher__arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M6 9l6 6 6-6"/>
                    </svg>
                </button>
                <div class="figma-language-switcher__dropdown">
                    {% if page.url contains '/resume/' %}
                    <a href="{{ '/resume/' | relative_url }}"
                       class="figma-language-switcher__option{% if lang == 'fr' %} figma-language-switcher__option--active{% endif %}"
                       hreflang="fr">
                        ğŸ‡«ğŸ‡· FranÃ§ais
                    </a>
                    <a href="{{ '/en/resume/' | relative_url }}"
                       class="figma-language-switcher__option{% if lang == 'en' %} figma-language-switcher__option--active{% endif %}"
                       hreflang="en">
                        ğŸ‡¬ğŸ‡§ English
                    </a>
                    {% else %}
                    <a href="{{ '/' | relative_url }}"
                       class="figma-language-switcher__option{% if lang == 'fr' %} figma-language-switcher__option--active{% endif %}"
                       hreflang="fr">
                        ğŸ‡«ğŸ‡· FranÃ§ais
                    </a>
                    <a href="{{ '/en/' | relative_url }}"
                       class="figma-language-switcher__option{% if lang == 'en' %} figma-language-switcher__option--active{% endif %}"
                       hreflang="en">
                        ğŸ‡¬ğŸ‡§ English
                    </a>
                    {% endif %}
                </div>
            </div>

            <!-- Theme Toggle -->
            <button class="figma-theme-toggle" aria-label="Toggle theme" id="figma-theme-toggle">
                <svg class="figma-theme-toggle__icon figma-theme-toggle__icon--light" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3"/>
                    <line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/>
                    <line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg class="figma-theme-toggle__icon figma-theme-toggle__icon--dark" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>

            <!-- CTA Button -->
            <a href="https://calendar.notion.so/meet/maxime-lenne/1h1wbg4ojm"
               class="figma-cta-btn"
               target="_blank"
               rel="noopener">
                {{ t.header.cta_button }}
                <svg class="figma-cta-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M7 17L17 7M17 7H7M17 7V17"/>
                </svg>
            </a>
            
            <!-- Mobile Menu Toggle -->
            <button class="figma-mobile-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span class="figma-mobile-toggle__line"></span>
                <span class="figma-mobile-toggle__line"></span>
                <span class="figma-mobile-toggle__line"></span>
            </button>
        </div>
    </div>
</header>