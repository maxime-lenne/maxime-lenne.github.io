<!-- Card Experience Component -->
<div class="card-experience">
  
  {% if include.logo_url %}
  <div class="card-experience__logo card-experience__logo--img">
    <img src="{{ include.logo_url }}" alt="{{ include.company }} logo" class="card-experience__logo-img">
  </div>
  {% else %}
  <div class="card-experience__logo">
    <div class="card-experience__logo-placeholder">
      {{ include.company | slice: 0, 2 | upcase }}
    </div>
  </div>
  {% endif %}
  
  <div class="card-experience__content">
    <div class="card-experience__header">
      <div class="card-experience__title-section">
        <h3 class="card-experience__role">{{ include.role }}</h3>
        <span class="card-experience__company">{{ include.company }}</span>
      </div>
      <div class="card-experience__date">
        <span class="card-experience__duration">{{ include.start_date | date: "%Y" }} - {{ include.end_date | date: "%Y" }}</span>
        {% if include.current %}
          <span class="card-experience__current">Présent</span>
        {% endif %}
      </div>
    </div>

    <p class="card-experience__description">{{ include.description }}</p>
    
    
    {% if include.tags %}
      <div class="card-experience__tags">
        {% for tag in include.tags limit: 3 %}
          {% include components/badge.html style="services" text=tag %}
        {% endfor %}
      </div>
    {% endif %}
    
    {% if include.achievements %}
    <div class="card-experience__achievements">
      {% for achievement in include.achievements limit: 3 %}
        <div class="card-experience__achievement">
          <svg class="list-checked__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M21.801 10A10 10 0 1117 3.335M9 11l3 3L22 4"/>
          </svg>
          <span>{{ achievement }}</span>
        </div>
      {% endfor %}
    </div>
    {% endif %}

    {% if include.skills %}
    <div class="card-experience__skills">
      {% for skill in include.skills limit: 6 %}
        {% include components/badge.html text=skill %}
      {% endfor %}
    </div>
    {% endif %}
    
    {% if include.achievements.size > 3 or include.details %}
    <div class="card-experience__actions">
      <button class="card-experience__expand-btn" data-expand="experience-{{ include.id | default: forloop.index }}">
        <span class="card-experience__expand-text">En savoir plus</span>
        <svg class="card-experience__expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M7 13l3 3 7-7"/>
          <path d="M7 6l3 3 7-7"/>
        </svg>
      </button>
    </div>
    {% endif %}
  </div>
</div>

<!-- Modal pour les détails supplémentaires -->
{% if include.achievements.size > 3 or include.details %}
<div class="card-experience__modal" id="experience-{{ include.id | default: forloop.index }}" style="display: none;">
  <div class="card-experience__modal-content">
    <div class="card-experience__modal-header">
      <h3>{{ include.role }} - {{ include.company }}</h3>
      <button class="card-experience__modal-close">&times;</button>
    </div>
    
    <div class="card-experience__modal-body">
      {% if include.achievements.size > 3 %}
      <div class="card-experience__modal-achievements">
        <h4>Toutes les réalisations</h4>
        {% for achievement in include.achievements %}
          <div class="card-experience__modal-achievement">
            <svg class="card-experience__achievement-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M9 12l2 2 4-4"/>
              <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
              <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
            </svg>
            <span>{{ achievement }}</span>
          </div>
        {% endfor %}
      </div>
      {% endif %}
      
      {% if include.details %}
      <div class="card-experience__modal-details">
        <h4>Détails supplémentaires</h4>
        <p>{{ include.details }}</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endif %}
